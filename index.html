<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Math Worksheets</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="main.css">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

</head>
<body>
  <div class="content">
    <h1>[19단]</h1>
    <ul class="problems list-group list-group-flush">
      <li class="list-group-item">An item</li>
      <li class="list-group-item">A second item</li>
      <li class="list-group-item">A third item</li>
      <li class="list-group-item">A fourth item</li>
      <li class="list-group-item" id="test">And a fifth one</li>
    </ul>
  </div>

  <div class="numpad-container">
    <div class="numpad-grid">
        <button class="numpad-btn numpad-clear">AC</button>
        <button class="numpad-btn numpad-delete">&lt;</button>
        <button class="numpad-btn numpad-num" value="7">7</button>
        <button class="numpad-btn numpad-num" value="8">8</button>
        <button class="numpad-btn numpad-num" value="9">9</button>
        <button class="numpad-btn numpad-num" value="4">4</button>
        <button class="numpad-btn numpad-num" value="5">5</button>
        <button class="numpad-btn numpad-num" value="6">6</button>
        <button class="numpad-btn numpad-num" value="1">1</button>
        <button class="numpad-btn numpad-num" value="2">2</button>
        <button class="numpad-btn numpad-num" value="3">3</button>
        <button class="numpad-btn numpad-num" value="0">0</button>
        <button class="numpad-btn numpad-num" value=".">.</button>
        <button class="numpad-btn numpad-ans">V</button>
    </div>
</div>

  <script>
    // let userInput = '';
    // $('.numpad-ans').click(function(){
    //   $('.problems').append('<li class="list-group-item">'+ userInput +'</li>');
    //   let content = $('.content');
    //   content.scrollTop(content.prop("scrollHeight"))
    // });

    // $('.numpad-btn').click(function(){
    //   userInput += this.value;
    // });


    let userInput = '';
    let currentLi = $('<li class="list-group-item"></li>').appendTo('.problems'); // 초기 li 생성

    // 숫자 버튼 클릭 시 li의 값이 업데이트됨
    $('.numpad-num').click(function(){
      userInput += this.value;
      currentLi.text(userInput);  // 최하단 li의 텍스트 업데이트
    });

    // delete 버튼 클릭 시 마지막 입력값 한 칸 지우기
    $('.numpad-delete').click(function(){
      userInput = userInput.slice(0, -1);  // 마지막 문자 제거
      currentLi.text(userInput);  // li의 텍스트 업데이트
    });

    // clear 버튼 클릭 시 전체 입력값 지우기
    $('.numpad-clear').click(function(){
      userInput = '';  // 입력값 초기화
      currentLi.text('');  // 현재 li의 텍스트 지우기
    });

    // V(확정) 버튼 클릭 시 입력값 확정 및 새 li 생성
    $('.numpad-ans').click(function(){
      if (userInput.trim() === '') return; // 빈 값은 무시
      currentLi.text(userInput);  // 현재 li에 최종 값 설정
      userInput = '';  // 입력값 초기화
      currentLi = $('<li class="list-group-item"></li>').appendTo('.problems');  // 새 li 생성
      let content = $('.content');
      content.scrollTop(content.prop("scrollHeight"));  // 스크롤을 최하단으로 이동
    });



    $('.problems').on('click', '.list-group-item', function() {
        $('.list-group-item').removeClass('active');
        $(this).addClass('active');
    });

    
    
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>